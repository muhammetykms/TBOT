<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HTMX Test</title>
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>
<body>

<select id="indikator_select">
  <option value="">SeÃ§iniz</option>
  <option value="1">RSI</option>
  <option value="2">MACD</option>
<option value="19">bol</option>
</select>

<input type="hidden" id="indikator_trigger">

<div id="parametre_input_alani"
     hx-get="stratejiler/parametre_partial/0/"
     hx-target="#parametre_input_alani"
     hx-swap="innerHTML">
</div>



<script>
document.addEventListener("DOMContentLoaded", function () {
    const select = document.getElementById("indikator_select");
    const parametreDiv = document.getElementById("parametre_input_alani");

    if (select && parametreDiv) {
        select.addEventListener("change", function () {
            const selectedId = this.value;

            if (selectedId) {
                // âœ… Mutlak (absolute) path kullan â€” baÅŸÄ±na / koy!
                const yeniUrl = `/stratejiler/indikator_parametre_partial/${selectedId}/`;

                // ðŸ”„ hx-get deÄŸerini gÃ¼ncelle
                parametreDiv.setAttribute("hx-get", yeniUrl);

                // âœ… HTMX ile doÄŸrudan tetikle
                htmx.ajax('GET', yeniUrl, {
                    target: "#parametre_input_alani",
                    swap: "innerHTML"
                });

                // ðŸ‘‰ Kontrol amaÃ§lÄ± log
                console.log("Yeni yÃ¼klenen URL:", yeniUrl);
            }
        });
    }
});
</script>


</body>
</html>
